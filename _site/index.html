<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; </title>
<meta name="description" content="Describe this nonsense.">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/images/abstract-1.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="Describe this nonsense.">
<meta name="twitter:creator" content="@zhaonanyu">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="Describe this nonsense.">
<meta property="og:url" content="/index.html">
<meta property="og:site_name" content="">





<link rel="canonical" href="/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title=" Feed">
<link rel="author" href="https://google.com/+zhaonanyu?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/avatar.jpg" alt="zhaonanyu photo" class="author-photo">
					<h4>zhaonanyu</h4>
					<p>When u reading this that mean my bolg looks pretty good, thx bro XD</p>
				</li>
				<li><a href="/about/">Learn More</a></li>
				<li>
					<a href="mailto:zhaonanyu@gmail.com"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/zhaonanyu"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="http://facebook.com/赵南雨"><i class="fa fa-facebook"></i> Facebook</a>
				</li>
				<li>
					<a href="https://google.com/+zhaonanyu"><i class="fa fa-google-plus"></i> Google+</a>
				</li>
				
				<li>
					<a href="http://github.com/zhaonanyu"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">All Posts</a></li>
				<li><a href="/tags/">All Tags</a></li>
			</ul>
		</li>
		
	    
	        
	    
	    <li><a href="/theme-setup/" >Theme Setup</a></li>
	  
	    
	        
	        
	    <li><a href="http://mademistakes.com" target="_blank">External Link</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/">dargadgetz</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="/images/abstract-1.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1></h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2014-11-09T00:00:00-05:00"><a href="/build-by-jekyll/">November 09, 2014</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About zhaonanyu">zhaonanyu</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="/build-by-jekyll/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/build-by-jekyll/" rel="bookmark" title="动手搭建自己的jekyll静态博客" itemprop="url">动手搭建自己的jekyll静态博客</a></h1>
    
  </header>
  <div class="entry-content">
    <blockquote>
  <p><em>动态网站太重了.轻量级的静态网站生成工具一时蔚然成风,至少在开(si)发(ji)者(lao)圈子里如此.–<a href="http://ipn.li/kernelpanic/">kernel panic</a></em></p>
</blockquote>

<hr />

<blockquote>
  <h2 id="section">重要</h2>

  <p>我假设看这篇文章的人具有</p>

  <ul>
    <li>
      <p><strong>基本的Linux Shell的使用</strong></p>
    </li>
    <li>
      <p><strong>拥有GitHub账户并了解Git的使用</strong></p>
    </li>
  </ul>

  <h2 id="githubhttpgithubcomlinux-shell"><em>你至少需要拥有一个<a href="http://github.com">GitHub</a>账户,如果你不了解Linux Shell使用你当然也可以往下看,你所需要的命令我都没有省略</em></h2>
</blockquote>

<p><strong>首先要了解jekyll是什么:</strong></p>

<blockquote>
  <p><em>jekyll是一个简单的免费的Blog生成工具，类似WordPress。但是和WordPress又有很大的不同，原因是jekyll只是一个生成静态网页的工具，不需要数据库支持。但是可以配合第三方服务,例如disqus。最关键的是jekyll可以免费部署在github上，而且可以绑定自己的域名。–互动百科</em></p>
</blockquote>

<hr />

<h2 id="jekyll">1. 安装jekyll</h2>
<p><a href="http://jekyllrb.com/">jekyll hp</a>中有你想了解的全部,当然你或许会觉得信息量太大了,你只想要先把自己的<strong>静态网站</strong>先跑起来,那么这篇博客相信会帮到你.</p>

<p><strong>首先</strong>,你需要安装jekyll所需要的环境,jekyll使用的是<strong>ruby</strong>(性能你懂得)所以首先的是安装ruby环境:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>$sudo apt-get install ruby1.9.1-dev
</pre></div>
</div>
</div>

<p>当然你也需要<strong>javascript</strong>的运行时:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>$sudo apt-get install NodeJS
</pre></div>
</div>
</div>

<p>接下来就可以<strong>安装jekyll</strong>了</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>$sudo gem install jekyll
$jekyll new my-awsome-site
$cd my-awsome-site
~/my-awsome-site$ jekyll serce
</pre></div>
</div>
</div>

<p>完成上面的命令以后你就可以用你的浏览器访问http://localhost:4000来测试你的测试页面了.<em>see? simple</em></p>

<hr />

<h2 id="jekyll-1">2. jekyll使用入门</h2>

<p>首先简单的说明刚才生成的<strong>my-awsome-site</strong>的文件夹结构</p>

<p>简单来说作为简单的入门使用,你只需要了解<strong>_post</strong>文件夹和<strong>_config.yml</strong>文件.</p>

<h3 id="post">2.1 _post文件夹</h3>
<p>_post文件夹包含了你所有的post,你可以简单的使用<a href="http://zh.wikipedia.org/wiki/Markdown">markdown</a>标记语言来编写你自己的帖子.<strong>不过值得注意的是,对于一个jekyll模板来说,模板可能会自定义markdown标记所以先去了解你所使用的模板</strong>,当然关于模板的事情我们后面在说.</p>

<h3 id="configyml">2.2 _config.yml文件</h3>
<p>看名字就知道_config.yml是你站点的一个config,这个config文件也和模板密切相关,<strong>想修改这个文件请了解你所使用的模板</strong>.</p>

<h3 id="section-1">2.3 使用模板</h3>
<p>用过wordpress的人一定会知道有模板这种东西,当然对于静态网站生成器来说使用起来也很简单.</p>

<p>你可以去<a href="http://jekyllthemes.org/">jekyll theme</a>这个网站找自己喜欢的模板,然后在<strong>GitHub</strong>上fork过来,然后clone覆盖掉你的my-awsome-site就可以使用这个模板了.</p>

<p><strong>下一个模板,覆盖你的文件夹然后使用:</strong></p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>$jekyll serve
</pre></div>
</div>
</div>

<p>来测试你的新模板</p>

<h3 id="post-1">2.4 编写你自己的post</h3>
<p>相信你了解一些markdown(如果你经常使用GitHub的话).如果你不了解去找一下markdown的语法,相当简单,相信你十分钟就能掌握, learn it on <a href="http://zh.wikipedia.org/wiki/Markdown">Wikipedia</a>.</p>

<p>但是你需要了解对于jekyll的markdown来说有一个markdown的头:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>---
layout: post
title: &quot;Sample Link Post&quot;
description: &quot;Example and code for using link posts.&quot;
tags: [sample post, link post]
comments: true
link: http://mademistakes.com  
---
</pre></div>
</div>
</div>

<p>这个头包含你的post的标题,tag等信息.刚才也提到了这个头和你所使用的jekyll的模板是密切相关的,<strong>修改的时候先去了解你所使用的模板</strong>.</p>

<hr />

<h2 id="section-2">3. 发布你自己的静态网站</h2>
<p>相信你现在可以在http://localhost:4000访问到你自己的jekyll网站了,那么如何发布呢?</p>

<p>GitHub提供了一个<a href="https://pages.github.com/">GitHub Pages</a>的服务,你可以把你的html静态网站或者jekyll挂到你的GitHub的仓库中就可以访问到你的静态网站了.</p>

<h3 id="github-pages">3.1 建立GitHub Pages仓库</h3>
<p>要使用GitHub Pages服务,你需要在你的GitHub上新建一个名为:</p>

<p><strong><em>username</em>.github.io</strong></p>

<p>的仓库,<em>username</em>是你的用户名,创建了这个仓库并并push了你的网站之后你就可以使用http://username.github.io这样一个网址来访问你的网站了.</p>

<h3 id="pushjekyll">3.2 push你的jekyll网站</h3>
<p>首先你需要把你刚才建立的<em>username</em>.github.io这个仓库clone下来:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>$git clone http://github.com/username/username.github.io
</pre></div>
</div>
</div>

<p>clone下来以后你会看到一个username.github.io的文件夹,把你刚才的my-awsome-site文件夹中你测试好的jekyll网站拷贝到这个文件夹中,然后使用命令:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>$git add .
$git commit -m &quot;init commit&quot;
$git push
$git push origin master
</pre></div>
</div>
</div>

<p>完成了上面的操作后你的静态网站已经成功地推送到你的username.github.io这个仓库中了,去github页面找到你的username.github.io这个仓库:</p>

<p><strong>Setting -&gt; GitHub Pages</strong></p>

<p>应该可以看到你的网站已经成功部署了,<strong>首次提交的时候,你可能需要10分钟才能使用username.github.io这个网址访问你的网站</strong>,当然之后对于你网站的修改你都几乎不需要等待.</p>

<hr />

<h3 id="mins-later">10 mins later…</h3>
<p><strong><em>相信你已经可以使用username.github.io访问到你的网站了</em></strong></p>

<h1 id="enjoy-xd">Enjoy XD</h1>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2014-10-28T00:00:00-04:00"><a href="/softirq_and_tasklet/">October 28, 2014</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About zhaonanyu">zhaonanyu</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="/softirq_and_tasklet/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/softirq_and_tasklet/" rel="bookmark" title="软终端与tasklet" itemprop="url">软终端与tasklet</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Folow me: <i class="icon-github icon-2x"></i>  <a href="http://github.com/zhaonanyu">zhaonanyu</a>
Contact me: <strong>zhaonanyu@gmail.com</strong></p>

<hr />

<blockquote>
  <p><strong>下半部</strong>
<em>下半部的任务就是执行与终端处理密切相关但中断处理程序本身不执行的工作。在理想的情况下，最好是中断处理程序将所有工作都交给下半部分执行，因为我们希望在终端处理程序中完成的工作越少越好（也就是越快乐好）。我们抢终端处理程序能够尽可能快地返回。</em>——<strong><em>《Linux内核设计与实现》</em></strong></p>
</blockquote>

<h2 id="section">软中断</h2>
<p>软中断是利用<a href="http://baike.baidu.com/view/486976.htm">硬件中断</a>的概念，用软件凡是进行模拟，实现宏观上的异步效果。<strong>很多情况下，软中断和信号有些类似</strong>，同时软中断又是和硬件中断相对应的。</p>

<p><strong>软中断</strong>于2.3中和<strong>tasklet</strong>一同被引入。软中断是一组静态定义的下半部接口，有32个，<strong>同类型的软中断可以在同多个处理器上同时执行</strong>。这样会出现一个问题，如果<strong>同一个</strong>软中断在它被执行的同时<strong>再次被触发了</strong>，另一个处理器将执行这个触发，这样表示任何共享的数据都需要加<strong>锁</strong>。另外软中断处理程序执行的时候，允许相应终端，但它自己不能休眠。**也就是说如果cpu0上运行的软中断被中断时，当前处理器将不再处理别的软中断，其他的软中断仍可以在别的处理器上执行。</p>

<p>上面我们也了解到软中断作为下半部的一种实现方式用起来很麻烦，这也就是tasklet受青睐的原因。但是需要明确的一点是<strong>tasklet是通过软中断实现的</strong>。</p>

<h3 id="section-1">了解软中断</h3>
<p>软中断是在<strong>编译期间静态分配</strong>的，软中断由softirq_action结构表示：</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="comment">// located in /linux/Interrupt.h</span>

<span class="keyword">struct</span> softirq_action
{
    <span class="directive">void</span>    (*action)(<span class="keyword">struct</span> softirq_action *);
};
</pre></div>
</div>
</div>

<p>《Linux内核设计与实现》中说明了：</p>

<blockquote>
  <p>kernel/softirq.c中定义了一个包含32个该结构体的数组。</p>
</blockquote>

<blockquote>
  <div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="directive">static</span> <span class="keyword">struct</span> softirq_action softirq_vec[NR_SOFTIRQS];
</pre></div>
</div>
  </div>
</blockquote>

<p>每个被注册的软终端都占据该数组的一项，因此最多可能有32个软中断。注意，这是一个定值——注册的软中断数目的最大值没法动态改变。<strong>在当前版本的内核中，这32个项目中只会用到9个</strong>。</p>

<p><strong>事实上</strong>在现在的版本（3.17）中，软中断的类型已经变为10种：</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="comment">// located in /linux/Interrupt.h</span>

<span class="comment">/* PLEASE, avoid to allocate new softirqs, if you need not _really_ high
   frequency threaded job scheduling. For almost all the purposes
   tasklets are more than enough. F.e. all serial device BHs et
   al. should be converted to tasklets, not to softirqs.
 */</span>

<span class="keyword">enum</span>
{
    HI_SOFTIRQ=<span class="integer">0</span>,
    TIMER_SOFTIRQ,
    NET_TX_SOFTIRQ,
    NET_RX_SOFTIRQ,
    BLOCK_SOFTIRQ,
    BLOCK_IOPOLL_SOFTIRQ,
    TASKLET_SOFTIRQ,
    SCHED_SOFTIRQ,
    HRTIMER_SOFTIRQ,
    RCU_SOFTIRQ,    <span class="comment">/* Preferable RCU should always be the last softirq */</span>

    NR_SOFTIRQS
};
</pre></div>
</div>
</div>

<p>软中断具体的调度和执行在这里就不再详细描述了，注册一个软中断后，在得到调度（或说是触发）时，软中断将会在do_softirq()这个函数中执行，do_irq()函数将会检查并执行所有待处理的软中断。</p>

<blockquote>
  <p><em><strong>关于do_irq</strong>
do_irq()函数将会根据一个<strong>pending</strong>局部变量来判断该软中断为何种类型，然后调用相应的处理函数（action）来处理该软中断。</em></p>
</blockquote>

<hr />

<h2 id="tasklet">tasklet</h2>
<p>tasklet和软中断本质上很类似，但是接口也更简单，对于<strong>锁保护</strong>的要求更低。
tasklet是通过软中断来实现的，tasklet实际上也是一种软中断。回过头来看一下前面提到的软中断目前的10中类型：</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">软中断类型</th>
      <th style="text-align: center">优先级</th>
      <th style="text-align: center">描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">HI_SOFTIRQ</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">高优先级tasklet</td>
    </tr>
    <tr>
      <td style="text-align: center">TIMER_SOFTIRQ</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">时钟</td>
    </tr>
    <tr>
      <td style="text-align: center">NET_TX_SOFTIRQ</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">发送网络数据包</td>
    </tr>
    <tr>
      <td style="text-align: center">NET_RX_SOFTIRQ</td>
      <td style="text-align: center">3</td>
      <td style="text-align: center">接受网络数据包</td>
    </tr>
    <tr>
      <td style="text-align: center">BLOCK_SOFTIRQ</td>
      <td style="text-align: center">4</td>
      <td style="text-align: center">块设备</td>
    </tr>
    <tr>
      <td style="text-align: center">BLOCK_IOPOLL_SOFTIRQ</td>
      <td style="text-align: center">5</td>
      <td style="text-align: center"><em>新增的不知道啥意思XD</em></td>
    </tr>
    <tr>
      <td style="text-align: center">TASKLET_SOFTIRQ</td>
      <td style="text-align: center">6</td>
      <td style="text-align: center">普通优先级tasklet</td>
    </tr>
    <tr>
      <td style="text-align: center">SCHED_SOFTIRQ</td>
      <td style="text-align: center">7</td>
      <td style="text-align: center">调度器</td>
    </tr>
    <tr>
      <td style="text-align: center">HRTIMER_SOFTIRQ</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">高精度时钟</td>
    </tr>
    <tr>
      <td style="text-align: center">RCU_SOFTIRQ</td>
      <td style="text-align: center">9</td>
      <td style="text-align: center">RCU锁</td>
    </tr>
  </tbody>
</table>

<p>可以看到其中有两种类型的软中断和tasklet有关，或者说tasklet是一种软中断，分为<strong>HI_SOFTIRQ和TASKLET_SOFTIRQ两种</strong>。</p>

<hr />
<p><strong>总结</strong>：
tasklet的具体实现目前还没有搞太懂，就不描述了。
另外陈老师在翻译《Linux内核设计与实现》时有个大错误XD：<em>p113 表8-2应该是<strong>软中断类型表</strong></em></p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-10-26T00:00:00-04:00"><a href="/background-image/">October 26, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About zhaonanyu">zhaonanyu</a></span></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/background-image/" rel="bookmark" title="Post with a Background Image" itemprop="url">Post with a Background Image</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Here be a sample post with a custom background image. To utilize this “feature” just add the following YAML to a post’s front matter.</p>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">image</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">background</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">filename.png</span></code></pre></div>

<p>This little bit of YAML makes the assumption that your background image asset is in the <code>/images</code> folder. If you place it somewhere else or are hotlinking from the web, just include the full http(s):// URL. Either way you should have a background image that is tiled.</p>

<p>If you want to set a background image for the entire site just add <code>background: filename.png</code> to your <code>_config.yml</code> and BOOM — background images on every page!</p>

<div xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/" about="http://subtlepatterns.com" class="notice">Background images from <span property="dct:title">Subtle Patterns</span> (<a rel="cc:attributionURL" property="cc:attributionName" href="http://subtlepatterns.com">Subtle Patterns</a>) / <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a></div>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-08-16T00:00:00-04:00"><a href="/code-highlighting-post/">August 16, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About zhaonanyu">zhaonanyu</a></span></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~3 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/code-highlighting-post/" rel="bookmark" title="Syntax Highlighting Post" itemprop="url">Syntax Highlighting Post</a></h1>
    
  </header>
  <div class="entry-content">
    <p><a href="http://en.wikipedia.org/wiki/Syntax_highlighting">Syntax highlighting</a> is a feature that displays source code, in different colors and fonts according to the category of terms. This feature facilitates writing in a structured language such as a programming language or a markup language as both structures and syntax errors are visually distinct. Highlighting does not affect the meaning of the text itself; it is intended only for human readers.</p>

<h3 id="pygments-code-blocks">Pygments Code Blocks</h3>

<p>To modify styling and highlight colors edit <code>/assets/less/pygments.less</code> and compile <code>main.less</code> with your favorite preprocessor. Or edit <code>main.css</code> if that’s your thing, the classes you want to modify all begin with <code>.highlight</code>.</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nf">#container</span> <span class="p">{</span>
    <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span>
    <span class="k">margin</span><span class="o">:</span> <span class="m">0</span> <span class="m">-240px</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p>Line numbering enabled:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="lineno">1</span> <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">&quot;pagination&quot;</span> <span class="na">role=</span><span class="s">&quot;navigation&quot;</span><span class="nt">&gt;</span>
<span class="lineno">2</span>     {% if page.previous %}
<span class="lineno">3</span>         <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{ site.url }}{{ page.previous.url }}&quot;</span> <span class="na">class=</span><span class="s">&quot;btn&quot;</span> <span class="na">title=</span><span class="s">&quot;{{ page.previous.title }}&quot;</span><span class="nt">&gt;</span>Previous article<span class="nt">&lt;/a&gt;</span>
<span class="lineno">4</span>     {% endif %}
<span class="lineno">5</span>     {% if page.next %}
<span class="lineno">6</span>         <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{ site.url }}{{ page.next.url }}&quot;</span> <span class="na">class=</span><span class="s">&quot;btn&quot;</span> <span class="na">title=</span><span class="s">&quot;{{ page.next.title }}&quot;</span><span class="nt">&gt;</span>Next article<span class="nt">&lt;/a&gt;</span>
<span class="lineno">7</span>     {% endif %}
<span class="lineno">8</span> <span class="nt">&lt;/nav&gt;</span><span class="c">&lt;!-- /.pagination --&gt;</span></code></pre></div>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">module</span> <span class="nn">Jekyll</span>
  <span class="k">class</span> <span class="nc">TagIndex</span> <span class="o">&lt;</span> <span class="no">Page</span>
    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">dir</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
      <span class="vi">@site</span> <span class="o">=</span> <span class="n">site</span>
      <span class="vi">@base</span> <span class="o">=</span> <span class="n">base</span>
      <span class="vi">@dir</span> <span class="o">=</span> <span class="n">dir</span>
      <span class="vi">@name</span> <span class="o">=</span> <span class="s1">&#39;index.html&#39;</span>
      <span class="nb">self</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="vi">@name</span><span class="p">)</span>
      <span class="nb">self</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="s1">&#39;_layouts&#39;</span><span class="p">),</span> <span class="s1">&#39;tag_index.html&#39;</span><span class="p">)</span>
      <span class="nb">self</span><span class="o">.</span><span class="n">data</span><span class="o">[</span><span class="s1">&#39;tag&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="n">tag</span>
      <span class="n">tag_title_prefix</span> <span class="o">=</span> <span class="n">site</span><span class="o">.</span><span class="n">config</span><span class="o">[</span><span class="s1">&#39;tag_title_prefix&#39;</span><span class="o">]</span> <span class="o">||</span> <span class="s1">&#39;Tagged: &#39;</span>
      <span class="n">tag_title_suffix</span> <span class="o">=</span> <span class="n">site</span><span class="o">.</span><span class="n">config</span><span class="o">[</span><span class="s1">&#39;tag_title_suffix&#39;</span><span class="o">]</span> <span class="o">||</span> <span class="s1">&#39;&amp;#8211;&#39;</span>
      <span class="nb">self</span><span class="o">.</span><span class="n">data</span><span class="o">[</span><span class="s1">&#39;title&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">tag_title_prefix</span><span class="si">}#{</span><span class="n">tag</span><span class="si">}</span><span class="s2">&quot;</span>
      <span class="nb">self</span><span class="o">.</span><span class="n">data</span><span class="o">[</span><span class="s1">&#39;description&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;An archive of posts tagged </span><span class="si">#{</span><span class="n">tag</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<h3 id="standard-code-block">Standard Code Block</h3>

<pre><code>&lt;nav class="pagination" role="navigation"&gt;
    {% if page.previous %}
        &lt;a href="{{ site.url }}{{ page.previous.url }}" class="btn" title="{{ page.previous.title }}"&gt;Previous article&lt;/a&gt;
    {% endif %}
    {% if page.next %}
        &lt;a href="{{ site.url }}{{ page.next.url }}" class="btn" title="{{ page.next.title }}"&gt;Next article&lt;/a&gt;
    {% endif %}
&lt;/nav&gt;&lt;!-- /.pagination --&gt;
</code></pre>

<h3 id="fenced-code-blocks">Fenced Code Blocks</h3>

<p>To modify styling and highlight colors edit <code>/assets/less/coderay.less</code> and compile <code>main.less</code> with your favorite preprocessor. Or edit <code>main.css</code> if that’s your thing, the classes you want to modify all begin with <code>.coderay</code>. Line numbers and a few other things can be modified in <code>_config.yml</code> under <code>coderay</code>.</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="id">#container</span> {
    <span class="key">float</span>: <span class="value">left</span>;
    <span class="key">margin</span>: <span class="float">0</span> <span class="float">-240px</span> <span class="float">0</span> <span class="float">0</span>;
    <span class="key">width</span>: <span class="float">100%</span>;
}
</pre></div>
</div>
</div>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="tag">&lt;nav</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">pagination</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">navigation</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    {% if page.previous %}
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{ site.url }}{{ page.previous.url }}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">btn</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">title</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{ page.previous.title }}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Previous article<span class="tag">&lt;/a&gt;</span>
    {% endif %}
    {% if page.next %}
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{ site.url }}{{ page.next.url }}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">btn</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">title</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{ page.next.title }}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Next article<span class="tag">&lt;/a&gt;</span>
    {% endif %}
<span class="tag">&lt;/nav&gt;</span><span class="comment">&lt;!-- /.pagination --&gt;</span>
</pre></div>
</div>
</div>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="keyword">module</span> <span class="class">Jekyll</span>
  <span class="keyword">class</span> <span class="class">TagIndex</span> &lt; <span class="constant">Page</span>
    <span class="keyword">def</span> <span class="function">initialize</span>(site, base, dir, tag)
      <span class="instance-variable">@site</span> = site
      <span class="instance-variable">@base</span> = base
      <span class="instance-variable">@dir</span> = dir
      <span class="instance-variable">@name</span> = <span class="string"><span class="delimiter">'</span><span class="content">index.html</span><span class="delimiter">'</span></span>
      <span class="predefined-constant">self</span>.process(<span class="instance-variable">@name</span>)
      <span class="predefined-constant">self</span>.read_yaml(<span class="constant">File</span>.join(base, <span class="string"><span class="delimiter">'</span><span class="content">_layouts</span><span class="delimiter">'</span></span>), <span class="string"><span class="delimiter">'</span><span class="content">tag_index.html</span><span class="delimiter">'</span></span>)
      <span class="predefined-constant">self</span>.data[<span class="string"><span class="delimiter">'</span><span class="content">tag</span><span class="delimiter">'</span></span>] = tag
      tag_title_prefix = site.config[<span class="string"><span class="delimiter">'</span><span class="content">tag_title_prefix</span><span class="delimiter">'</span></span>] || <span class="string"><span class="delimiter">'</span><span class="content">Tagged: </span><span class="delimiter">'</span></span>
      tag_title_suffix = site.config[<span class="string"><span class="delimiter">'</span><span class="content">tag_title_suffix</span><span class="delimiter">'</span></span>] || <span class="string"><span class="delimiter">'</span><span class="content">&amp;#8211;</span><span class="delimiter">'</span></span>
      <span class="predefined-constant">self</span>.data[<span class="string"><span class="delimiter">'</span><span class="content">title</span><span class="delimiter">'</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>tag_title_prefix<span class="inline-delimiter">}</span></span><span class="inline"><span class="inline-delimiter">#{</span>tag<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
      <span class="predefined-constant">self</span>.data[<span class="string"><span class="delimiter">'</span><span class="content">description</span><span class="delimiter">'</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">An archive of posts tagged </span><span class="inline"><span class="inline-delimiter">#{</span>tag<span class="inline-delimiter">}</span></span><span class="content">.</span><span class="delimiter">&quot;</span></span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
</pre></div>
</div>
</div>

<h3 id="github-gist-embed">GitHub Gist Embed</h3>

<p>An example of a Gist embed below.</p>

<script src="https://gist.github.com/mmistakes/6589546.js"> </script>

<script src="https://gist.github.com/8531391.js"> </script>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-08-12T00:00:00-04:00"><a href="/sample-link-post/">August 12, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About zhaonanyu">zhaonanyu</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="/sample-link-post/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/sample-link-post/" rel="bookmark" title="Sample Link Post"><i class="fa fa-angle-double-right"></i></a> <a href="http://mademistakes.com">Sample Link Post</a></h1>
    
  </header>
  <div class="entry-content">
    <p>This theme supports <strong>link posts</strong>, made famous by John Gruber. To use, just add <code>link: http://url-you-want-linked</code> to the post’s YAML front matter and you’re done.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    Previous
  
  <ul class="inline-list">
    <li>
      
        <span class="current-page">1</span>
      
    </li>
    
      <li>
        
          <a href="/page2">2</a>
        
      </li>
    
  </ul>
  
    <a href="/page2" class="btn">Next</a>
  
</div><!-- /.pagination -->
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 zhaonanyu. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>



          

</body>
</html>